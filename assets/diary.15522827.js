import{c as o,S as l,U as c}from"./index.2c6a7d5a.js";const h={dark:{type:Boolean,default:null}};function f(e,t){return o(()=>e.dark===null?t.dark.isActive:e.dark)}function m(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),l.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const n=["B","KB","MB","GB","TB","PB"];function _(e){let t=0;for(;parseInt(e,10)>=1024&&t<n.length-1;)e/=1024,++t;return`${e.toFixed(1)}${n[t]}`}function D(e,t,a){return a<=t?t:Math.min(a,Math.max(t,e))}function g(e,t=2,a="0"){if(e==null)return e;const i=""+e;return i.length>=t?i:new Array(t-i.length+1).join(a)+i}function d(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return a<10&&(a="0"+a),i<10&&(i="0"+i),t+"/"+a+"/"+i}const p={months:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),monthsShort:"\u4E00\u6708_\u4E8C\u6708_\u4E09\u6708_\u56DB\u6708_\u4E94\u6708_\u516D\u6708_\u4E03\u6708_\u516B\u6708_\u4E5D\u6708_\u5341\u6708_\u5341\u4E00\u6708_\u5341\u4E8C\u6708".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"dias"},y=c("diary",{state:()=>({diaries:[{}]}),actions:{importDiary(e){const t=new FileReader;t.onload=a=>{const i=JSON.parse(a.target.result);this.diaries=i},t.readAsText(e)},loadDiary(){const e=localStorage.getItem("diaries");e&&(this.diaries=JSON.parse(e))},addDiary(e){let t=this.diaries.findIndex(a=>a.date===e.date);t!==-1?(this.diaries[t].content=e.content,this.diaries[t].title=e.title):this.diaries.push(e),this.saveDiary(),console.log("\u5DF2\u65B0\u589E\u65E5\u8BB0\uFF01\uFF0C\u6240\u6709\u7684\u65E5\u8BB0\uFF1A",this.diaries)},deleteDiary(e){this.diaries.splice(e,1),this.saveDiary()},editDiary({index:e,diary:t}){this.diaries[e]=t,this.saveDiary()},saveDiary(){localStorage.setItem("diaries",JSON.stringify(this.diaries))},async toJsonFile(){const t=`${d()}_diaryData.ed`,a=JSON.stringify({data:this.diaries},null,2),i=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(i),r=document.createElement("a");r.href=s,r.download=t,r.click(),URL.revokeObjectURL(s)}}});export{f as a,D as b,y as c,m as d,d as g,_ as h,p as m,g as p,h as u};
