import{c as e,h as t,Q as a,o as n,e as o}from"./QBtn.8aa00b81.js";import{d as l,e as r,f as i,k as u,c as s,h as d,g as c,i as v,r as f,o as m,w as h,a0 as g,a as y,a1 as p,Y as b,a2 as M,N as _,b as q,X as w,a3 as C,O as x,T as D,a4 as S,a5 as Y,a6 as H}from"./index.92600922.js";import{u as V,a as k,p as $}from"./diary.06f8a4d0.js";var O=e({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:n}}=c(),o=l(i,r);if(o===r)return console.error("QPage needs to be a deep child of QLayout"),r;if(l(u,r)===r)return console.error("QPage needs to be child of QPageContainer"),r;const v=s((()=>{const t=(!0===o.header.space?o.header.size:0)+(!0===o.footer.space?o.footer.size:0);if("function"==typeof e.styleFn){const a=!0===o.isContainer.value?o.containerHeight.value:n.screen.height;return e.styleFn(t,a)}return{minHeight:!0===o.isContainer.value?o.containerHeight.value-t+"px":0===n.screen.height?0!==t?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}})),f=s((()=>"q-page"+(!0===e.padding?" q-layout-padding":"")));return()=>d("main",{class:f.value,style:v.value},t(a.default))}});let A,B=0;const j=new Array(256);for(let Ze=0;Ze<256;Ze++)j[Ze]=(Ze+256).toString(16).substring(1);const F=(()=>{const e="undefined"!=typeof crypto?crypto:"undefined"!=typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const a=new Uint8Array(t);return e.getRandomValues(a),a}}return e=>{const t=[];for(let a=e;a>0;a--)t.push(Math.floor(256*Math.random()));return t}})();function R(){(void 0===A||B+16>4096)&&(B=0,A=F(4096));const e=Array.prototype.slice.call(A,B,B+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,j[e[0]]+j[e[1]]+j[e[2]]+j[e[3]]+"-"+j[e[4]]+j[e[5]]+"-"+j[e[6]]+j[e[7]]+"-"+j[e[8]]+j[e[9]]+"-"+j[e[10]]+j[e[11]]+j[e[12]]+j[e[13]]+j[e[14]]+j[e[15]]}function T(e,t){return null==e?!0===t?`f_${R()}`:null:e}const E=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,I=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Z=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,z=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Q=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,L={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>E.test(e),hexaColor:e=>I.test(e),hexOrHexaColor:e=>Z.test(e),rgbColor:e=>z.test(e),rgbaColor:e=>Q.test(e),rgbOrRgbaColor:e=>z.test(e)||Q.test(e),hexOrRgbColor:e=>E.test(e)||z.test(e),hexaOrRgbaColor:e=>I.test(e)||Q.test(e),anyColor:e=>Z.test(e)||z.test(e)||Q.test(e)},P=[!0,!1,"ondemand"],N={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>P.includes(e)}};function U(e,t){const{props:a,proxy:n}=c(),o=f(!1),r=f(null),i=f(!1);!function({validate:e,resetValidation:t,requiresQForm:a}){const n=l(g,!1);if(!1!==n){const{props:a,proxy:o}=c();Object.assign(o,{validate:e,resetValidation:t}),h((()=>a.disable),(e=>{!0===e?("function"==typeof t&&t(),n.unbindComponent(o)):n.bindComponent(o)})),m((()=>{!0!==a.disable&&n.bindComponent(o)})),y((()=>{!0!==a.disable&&n.unbindComponent(o)}))}else!0===a&&console.error("Parent QForm not found on useFormChild()!")}({validate:x,resetValidation:C});let u,d=0;const v=s((()=>void 0!==a.rules&&null!==a.rules&&0!==a.rules.length)),M=s((()=>!0!==a.disable&&!0===v.value&&!1===t.value)),_=s((()=>!0===a.error||!0===o.value)),q=s((()=>"string"==typeof a.errorMessage&&0!==a.errorMessage.length?a.errorMessage:r.value));function w(){"ondemand"!==a.lazyRules&&!0===M.value&&!0===i.value&&D()}function C(){d++,t.value=!1,i.value=!1,o.value=!1,r.value=null,D.cancel()}function x(e=a.modelValue){if(!0===a.disable||!1===v.value)return!0;const n=++d,l=!0!==t.value?()=>{i.value=!0}:()=>{},u=(e,a)=>{!0===e&&l(),o.value=e,r.value=a||null,t.value=!1},s=[];for(let t=0;t<a.rules.length;t++){const n=a.rules[t];let o;if("function"==typeof n?o=n(e,L):"string"==typeof n&&void 0!==L[n]&&(o=L[n](e)),!1===o||"string"==typeof o)return u(!0,o),!1;!0!==o&&void 0!==o&&s.push(o)}return 0===s.length?(u(!1),!0):(t.value=!0,Promise.all(s).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return n===d&&u(!1),!0;const t=e.find((e=>!1===e||"string"==typeof e));return n===d&&u(void 0!==t,t),void 0===t}),(e=>(n===d&&(console.error(e),u(!0)),!1))))}h((()=>a.modelValue),(()=>{i.value=!0,!0===M.value&&!1===a.lazyRules&&D()})),h((()=>a.reactiveRules),(e=>{!0===e?void 0===u&&(u=h((()=>a.rules),w,{immediate:!0,deep:!0})):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),h((()=>a.lazyRules),w),h(e,(e=>{!0===e?i.value=!0:!0===M.value&&"ondemand"!==a.lazyRules&&D()}));const D=p(x,0);return y((()=>{void 0!==u&&u(),D.cancel()})),Object.assign(n,{resetValidation:C,validate:x}),b(n,"hasError",(()=>_.value)),{isDirtyModel:i,hasRules:v,hasError:_,errorMessage:q,validate:x,resetValidation:C}}const X=/^on[A-Z]/;function W(){const{attrs:e,vnode:t}=c(),a={listeners:f({}),attributes:f({})};function n(){const n={},o={};for(const t in e)"class"!==t&&"style"!==t&&!1===X.test(t)&&(n[t]=e[t]);for(const e in t.props)!0===X.test(e)&&(o[e]=t.props[e]);a.attributes.value=n,a.listeners.value=o}return M(n),n(),a}let J=[],K=[];function G(e){K=K.filter((t=>t!==e))}function ee(e){G(e),K.push(e)}function te(e){G(e),0===K.length&&0!==J.length&&(J[J.length-1](),J=[])}function ae(e){0===K.length?e():J.push(e)}function ne(e){return null!=e&&0!==(""+e).length}const oe={...V,...N,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},le=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function re({requiredForAttr:e=!0,tagProp:t}={}){const{props:a,proxy:n}=c(),o=k(a,n.$q),l=function({getValue:e,required:t=!0}={}){if(!0===v.value){const n=f(void 0!==e?null==(a=e())?null:a:null);return!0===t&&null===n.value&&m((()=>{n.value=`f_${R()}`})),void 0!==e&&h(e,(e=>{n.value=T(e,t)})),n}var a;return void 0!==e?s((()=>T(e(),t))):f(`f_${R()}`)}({required:e,getValue:()=>a.for});return{requiredForAttr:e,tag:!0===t?s((()=>a.tag)):{value:"label"},isDark:o,editable:s((()=>!0!==a.disable&&!0!==a.readonly)),innerLoading:f(!1),focused:f(!1),hasPopupOpen:!1,splitAttrs:W(),targetUid:l,rootRef:f(null),targetRef:f(null),controlRef:f(null)}}function ie(e){const{props:o,emit:l,slots:r,attrs:i,proxy:u}=c(),{$q:v}=u;let f=null;void 0===e.hasValue&&(e.hasValue=s((()=>ne(o.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{l("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:R,onFocusout:T}),Object.assign(e,{clearValue:E,onControlFocusin:R,onControlFocusout:T,focus:F}),void 0===e.computedCounter&&(e.computedCounter=s((()=>{if(!1!==o.counter){const e="string"==typeof o.modelValue||"number"==typeof o.modelValue?(""+o.modelValue).length:!0===Array.isArray(o.modelValue)?o.modelValue.length:0,t=void 0!==o.maxlength?o.maxlength:o.maxValues;return e+(void 0!==t?" / "+t:"")}})));const{isDirtyModel:h,hasRules:g,hasError:p,errorMessage:b,resetValidation:M}=U(e.focused,e.innerLoading),S=void 0!==e.floatingLabel?s((()=>!0===o.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):s((()=>!0===o.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),Y=s((()=>!0===o.bottomSlots||void 0!==o.hint||!0===g.value||!0===o.counter||null!==o.error)),H=s((()=>!0===o.filled?"filled":!0===o.outlined?"outlined":!0===o.borderless?"borderless":o.standout?"standout":"standard")),V=s((()=>`q-field row no-wrap items-start q-field--${H.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===o.rounded?" q-field--rounded":"")+(!0===o.square?" q-field--square":"")+(!0===S.value?" q-field--float":"")+(!0===$.value?" q-field--labeled":"")+(!0===o.dense?" q-field--dense":"")+(!0===o.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===p.value?" q-field--error":"")+(!0===p.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==o.hideBottomSpace&&!0===Y.value?" q-field--with-bottom":"")+(!0===o.disable?" q-field--disabled":!0===o.readonly?" q-field--readonly":""))),k=s((()=>"q-field__control relative-position row no-wrap"+(void 0!==o.bgColor?` bg-${o.bgColor}`:"")+(!0===p.value?" text-negative":"string"==typeof o.standout&&0!==o.standout.length&&!0===e.focused.value?` ${o.standout}`:void 0!==o.color?` text-${o.color}`:""))),$=s((()=>!0===o.labelSlot||void 0!==o.label)),O=s((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==o.labelColor&&!0!==p.value?` text-${o.labelColor}`:""))),A=s((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:S.value,modelValue:o.modelValue,emitValue:e.emitValue}))),B=s((()=>{const t={};return e.targetUid.value&&(t.for=e.targetUid.value),!0===o.disable&&(t["aria-disabled"]="true"),t}));function j(){const t=document.activeElement;let a=void 0!==e.targetRef&&e.targetRef.value;!a||null!==t&&t.id===e.targetUid.value||(!0===a.hasAttribute("tabindex")||(a=a.querySelector("[tabindex]")),a&&a!==t&&a.focus({preventScroll:!0}))}function F(){ae(j)}function R(t){null!==f&&(clearTimeout(f),f=null),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,l("focus",t))}function T(t,a){null!==f&&clearTimeout(f),f=setTimeout((()=>{f=null,(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,l("blur",t)),void 0!==a&&a())}))}function E(t){if(_(t),!0!==v.platform.is.mobile){(void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value).focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===o.type&&(e.inputRef.value.value=null),l("update:modelValue",null),l("clear",o.modelValue),q((()=>{const e=h.value;M(),h.value=e}))}function I(){const l=[];return void 0!==r.prepend&&l.push(d("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:x},r.prepend())),l.push(d("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},function(){const a=[];void 0!==o.prefix&&null!==o.prefix&&a.push(d("div",{class:"q-field__prefix no-pointer-events row items-center"},o.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&a.push(e.getShadowControl());void 0!==e.getControl?a.push(e.getControl()):void 0!==r.rawControl?a.push(r.rawControl()):void 0!==r.control&&a.push(d("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":!0===o.autofocus||void 0},r.control(A.value)));return!0===$.value&&a.push(d("div",{class:O.value},t(r.label,o.label))),void 0!==o.suffix&&null!==o.suffix&&a.push(d("div",{class:"q-field__suffix no-pointer-events row items-center"},o.suffix)),a.concat(t(r.default))}())),!0===p.value&&!1===o.noErrorIcon&&l.push(z("error",[d(a,{name:v.iconSet.field.error,color:"negative"})])),!0===o.loading||!0===e.innerLoading.value?l.push(z("inner-loading-append",void 0!==r.loading?r.loading():[d(n,{color:o.color})])):!0===o.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&l.push(z("inner-clearable-append",[d(a,{class:"q-field__focusable-action",tag:"button",name:o.clearIcon||v.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:E})])),void 0!==r.append&&l.push(d("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:x},r.append())),void 0!==e.getInnerAppend&&l.push(z("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&l.push(e.getControlChild()),l}function Z(){let a,n;!0===p.value?null!==b.value?(a=[d("div",{role:"alert"},b.value)],n=`q--slot-error-${b.value}`):(a=t(r.error),n="q--slot-error"):!0===o.hideHint&&!0!==e.focused.value||(void 0!==o.hint?(a=[d("div",o.hint)],n=`q--slot-hint-${o.hint}`):(a=t(r.hint),n="q--slot-hint"));const l=!0===o.counter||void 0!==r.counter;if(!0===o.hideBottomSpace&&!1===l&&void 0===a)return;const i=d("div",{key:n,class:"q-field__messages col"},a);return d("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==o.hideBottomSpace?"animated":"stale"),onClick:x},[!0===o.hideBottomSpace?i:d(D,{name:"q-transition--field-message"},(()=>i)),!0===l?d("div",{class:"q-field__counter"},void 0!==r.counter?r.counter():e.computedCounter.value):null])}function z(e,t){return null===t?null:d("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}let Q=!1;return w((()=>{Q=!0})),C((()=>{!0===Q&&!0===o.autofocus&&u.focus()})),!0===o.autofocus&&m((()=>{u.focus()})),y((()=>{null!==f&&clearTimeout(f)})),Object.assign(u,{focus:F,blur:function(){var t;t=j,J=J.filter((e=>e!==t));const a=document.activeElement;null!==a&&e.rootRef.value.contains(a)&&a.blur()}}),function(){const t=void 0===e.getControl&&void 0===r.control?{...e.splitAttrs.attributes.value,"data-autofocus":!0===o.autofocus||void 0,...B.value}:B.value;return d(e.tag.value,{ref:e.rootRef,class:[V.value,i.class],style:i.style,...t},[void 0!==r.before?d("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:x},r.before()):null,d("div",{class:"q-field__inner relative-position col self-stretch"},[d("div",{ref:e.controlRef,class:k.value,tabindex:-1,...e.controlEvents},I()),!0===Y.value?Z():null]),void 0!==r.after?d("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:x},r.after()):null])}}const ue={name:String};function se(e){return s((()=>e.name||e.for))}function de(e,t){function a(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(a){return{files:void 0}}}return s(!0===t?()=>{if("file"===e.type)return a()}:a)}const ce=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function ve(e,t,a){return"[object Date]"===Object.prototype.toString.call(e)&&(a=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),function(e){const t=pe(e).gy;let a,n,o,l=t-621;const r=ge(l,!1),i=ye(t,3,r.march);if(o=e-i,o>=0){if(o<=185)return n=1+be(o,31),a=Me(o,31)+1,{jy:l,jm:n,jd:a};o-=186}else l-=1,o+=179,1===r.leap&&(o+=1);return n=7+be(o,30),a=Me(o,30)+1,{jy:l,jm:n,jd:a}}(ye(e,t,a))}function fe(e,t,a){return pe(function(e,t,a){const n=ge(e,!0);return ye(n.gy,3,n.march)+31*(t-1)-be(t,7)*(t-7)+a-1}(e,t,a))}function me(e){return 0===function(e){const t=ce.length;let a,n,o,l,r,i=ce[0];if(e<i||e>=ce[t-1])throw new Error("Invalid Jalaali year "+e);for(r=1;r<t&&(a=ce[r],n=a-i,!(e<a));r+=1)i=a;l=e-i,n-l<6&&(l=l-n+33*be(n+4,33));o=Me(Me(l+1,33)-1,4),-1===o&&(o=4);return o}(e)}function he(e,t){return t<=6?31:t<=11||me(e)?30:29}function ge(e,t){const a=ce.length,n=e+621;let o,l,r,i,u,s=-14,d=ce[0];if(e<d||e>=ce[a-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<a&&(o=ce[u],l=o-d,!(e<o));u+=1)s=s+8*be(l,33)+be(Me(l,33),4),d=o;i=e-d,s=s+8*be(i,33)+be(Me(i,33)+3,4),4===Me(l,33)&&l-i==4&&(s+=1);const c=20+s-(be(n,4)-be(3*(be(n,100)+1),4)-150);return t||(l-i<6&&(i=i-l+33*be(l+4,33)),r=Me(Me(i+1,33)-1,4),-1===r&&(r=4)),{leap:r,gy:n,march:c}}function ye(e,t,a){let n=be(1461*(e+be(t-8,6)+100100),4)+be(153*Me(t+9,12)+2,5)+a-34840408;return n=n-be(3*be(e+100100+be(t-8,6),100),4)+752,n}function pe(e){let t=4*e+139361631;t=t+4*be(3*be(4*e+183187720,146097),4)-3908;const a=5*be(Me(t,1461),4)+308,n=be(Me(a,153),5)+1,o=Me(be(a,153),12)+1;return{gy:be(t,1461)-100100+be(8-o,6),gm:o,gd:n}}function be(e,t){return~~(e/t)}function Me(e,t){return e-~~(e/t)*t}const _e=["gregorian","persian"],qe={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>_e.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean};function we(e){return e.year+"/"+$(e.month)+"/"+$(e.day)}const Ce=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,xe=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,De={};function Se(e,t){return void 0!==e?e:void 0!==t?t.date:Y.date}function Ye(e,t=""){const a=e>0?"-":"+",n=Math.abs(e),o=Math.floor(n/60),l=n%60;return a+$(o)+t+$(l)}function He(e,t,a,n,o){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(void 0!==o&&Object.assign(l,o),null==e||""===e||"string"!=typeof e)return l;void 0===t&&(t="YYYY-MM-DDTHH:mm:ss.SSSZ");const r=Se(a,S.props),i=r.months,u=r.monthsShort,{regex:s,map:d}=function(e,t){const a="("+t.days.join("|")+")",n=e+a;if(void 0!==De[n])return De[n];const o="("+t.daysShort.join("|")+")",l="("+t.months.join("|")+")",r="("+t.monthsShort.join("|")+")",i={};let u=0;const s=e.replace(xe,(e=>{switch(u++,e){case"YY":return i.YY=u,"(-?\\d{1,2})";case"YYYY":return i.YYYY=u,"(-?\\d{1,4})";case"M":return i.M=u,"(\\d{1,2})";case"MM":return i.M=u,"(\\d{2})";case"MMM":return i.MMM=u,r;case"MMMM":return i.MMMM=u,l;case"D":return i.D=u,"(\\d{1,2})";case"Do":return i.D=u++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=u,"(\\d{2})";case"H":return i.H=u,"(\\d{1,2})";case"HH":return i.H=u,"(\\d{2})";case"h":return i.h=u,"(\\d{1,2})";case"hh":return i.h=u,"(\\d{2})";case"m":return i.m=u,"(\\d{1,2})";case"mm":return i.m=u,"(\\d{2})";case"s":return i.s=u,"(\\d{1,2})";case"ss":return i.s=u,"(\\d{2})";case"S":return i.S=u,"(\\d{1})";case"SS":return i.S=u,"(\\d{2})";case"SSS":return i.S=u,"(\\d{3})";case"A":return i.A=u,"(AM|PM)";case"a":return i.a=u,"(am|pm)";case"aa":return i.aa=u,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return a;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=u,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=u,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=u,"(-?\\d+)";case"x":return i.x=u,"(-?\\d{4,})";default:return u--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})),d={map:i,regex:new RegExp("^"+s)};return De[n]=d,d}(t,r),c=e.match(s);if(null===c)return l;let v="";if(void 0!==d.X||void 0!==d.x){const e=parseInt(c[void 0!==d.X?d.X:d.x],10);if(!0===isNaN(e)||e<0)return l;const t=new Date(e*(void 0!==d.X?1e3:1));l.year=t.getFullYear(),l.month=t.getMonth()+1,l.day=t.getDate(),l.hour=t.getHours(),l.minute=t.getMinutes(),l.second=t.getSeconds(),l.millisecond=t.getMilliseconds()}else{if(void 0!==d.YYYY)l.year=parseInt(c[d.YYYY],10);else if(void 0!==d.YY){const e=parseInt(c[d.YY],10);l.year=e<0?e:2e3+e}if(void 0!==d.M){if(l.month=parseInt(c[d.M],10),l.month<1||l.month>12)return l}else void 0!==d.MMM?l.month=u.indexOf(c[d.MMM])+1:void 0!==d.MMMM&&(l.month=i.indexOf(c[d.MMMM])+1);if(void 0!==d.D){if(l.day=parseInt(c[d.D],10),null===l.year||null===l.month||l.day<1)return l;const e="persian"!==n?new Date(l.year,l.month,0).getDate():he(l.year,l.month);if(l.day>e)return l}void 0!==d.H?l.hour=parseInt(c[d.H],10)%24:void 0!==d.h&&(l.hour=parseInt(c[d.h],10)%12,(d.A&&"PM"===c[d.A]||d.a&&"pm"===c[d.a]||d.aa&&"p.m."===c[d.aa])&&(l.hour+=12),l.hour=l.hour%24),void 0!==d.m&&(l.minute=parseInt(c[d.m],10)%60),void 0!==d.s&&(l.second=parseInt(c[d.s],10)%60),void 0!==d.S&&(l.millisecond=parseInt(c[d.S],10)*10**(3-c[d.S].length)),void 0===d.Z&&void 0===d.ZZ||(v=void 0!==d.Z?c[d.Z].replace(":",""):c[d.ZZ],l.timezoneOffset=("+"===v[0]?-1:1)*(60*v.slice(1,3)+1*v.slice(3,5)))}return l.dateHash=$(l.year,6)+"/"+$(l.month)+"/"+$(l.day),l.timeHash=$(l.hour)+":"+$(l.minute)+":"+$(l.second)+v,l}function Ve(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const a=new Date(t.getFullYear(),0,4);a.setDate(a.getDate()-(a.getDay()+6)%7+3);const n=t.getTimezoneOffset()-a.getTimezoneOffset();t.setHours(t.getHours()-n);const o=(t-a)/6048e5;return 1+Math.floor(o)}function ke(e,t,a){const n=new Date(e),o="set"+(!0===a?"UTC":"");switch(t){case"year":case"years":n[`${o}Month`](0);case"month":case"months":n[`${o}Date`](1);case"day":case"days":case"date":n[`${o}Hours`](0);case"hour":case"hours":n[`${o}Minutes`](0);case"minute":case"minutes":n[`${o}Seconds`](0);case"second":case"seconds":n[`${o}Milliseconds`](0)}return n}function $e(e,t,a){return(e.getTime()-6e4*e.getTimezoneOffset()-(t.getTime()-6e4*t.getTimezoneOffset()))/a}function Oe(e,t,a="days"){const n=new Date(e),o=new Date(t);switch(a){case"years":case"year":return n.getFullYear()-o.getFullYear();case"months":case"month":return 12*(n.getFullYear()-o.getFullYear())+n.getMonth()-o.getMonth();case"days":case"day":case"date":return $e(ke(n,"day"),ke(o,"day"),864e5);case"hours":case"hour":return $e(ke(n,"hour"),ke(o,"hour"),36e5);case"minutes":case"minute":return $e(ke(n,"minute"),ke(o,"minute"),6e4);case"seconds":case"second":return $e(ke(n,"second"),ke(o,"second"),1e3)}}function Ae(e){return Oe(e,ke(e,"year"),"days")+1}function Be(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const je={YY(e,t,a){const n=this.YYYY(e,t,a)%100;return n>=0?$(n):"-"+$(Math.abs(n))},YYYY:(e,t,a)=>null!=a?a:e.getFullYear(),M:e=>e.getMonth()+1,MM:e=>$(e.getMonth()+1),MMM:(e,t)=>t.monthsShort[e.getMonth()],MMMM:(e,t)=>t.months[e.getMonth()],Q:e=>Math.ceil((e.getMonth()+1)/3),Qo(e){return Be(this.Q(e))},D:e=>e.getDate(),Do:e=>Be(e.getDate()),DD:e=>$(e.getDate()),DDD:e=>Ae(e),DDDD:e=>$(Ae(e),3),d:e=>e.getDay(),dd(e,t){return this.dddd(e,t).slice(0,2)},ddd:(e,t)=>t.daysShort[e.getDay()],dddd:(e,t)=>t.days[e.getDay()],E:e=>e.getDay()||7,w:e=>Ve(e),ww:e=>$(Ve(e)),H:e=>e.getHours(),HH:e=>$(e.getHours()),h(e){const t=e.getHours();return 0===t?12:t>12?t%12:t},hh(e){return $(this.h(e))},m:e=>e.getMinutes(),mm:e=>$(e.getMinutes()),s:e=>e.getSeconds(),ss:e=>$(e.getSeconds()),S:e=>Math.floor(e.getMilliseconds()/100),SS:e=>$(Math.floor(e.getMilliseconds()/10)),SSS:e=>$(e.getMilliseconds(),3),A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z:(e,t,a,n)=>Ye(null==n?e.getTimezoneOffset():n,":"),ZZ:(e,t,a,n)=>Ye(null==n?e.getTimezoneOffset():n),X:e=>Math.floor(e.getTime()/1e3),x:e=>e.getTime()};const Fe=["Calendar","Years","Months"],Re=e=>Fe.includes(e),Te=e=>/^-?[\d]+\/[0-1]\d$/.test(e);function Ee(e){return e.year+"/"+$(e.month)}var Ie=e({name:"QDate",props:{...qe,...ue,...V,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Te},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Te},navigationMaxYearMonth:{type:String,validator:Te},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Re}},emits:["update:modelValue","rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:n}){const{proxy:l}=c(),{$q:r}=l,i=k(e,r),{getCache:u}=function(){let e=Object.create(null);return{getCache:(t,a)=>void 0===e[t]?e[t]="function"==typeof a?a():a:e[t],setCache(t,a){e[t]=a},hasCache:t=>e.hasOwnProperty(t),clearCache(t){void 0!==t?delete e[t]:e={}}}}(),{tabindex:v,headerClass:m,getLocale:g,getCurrentDate:y}=function(e,t){const a=s((()=>!0!==e.disable&&!0!==e.readonly)),n=s((()=>!0===a.value?0:-1)),o=s((()=>{const t=[];return void 0!==e.color&&t.push(`bg-${e.color}`),void 0!==e.textColor&&t.push(`text-${e.textColor}`),t.join(" ")}));return{editable:a,tabindex:n,headerClass:o,getLocale:function(){return void 0!==e.locale?{...t.lang.date,...e.locale}:t.lang.date},getCurrentDate:function(t){const a=new Date,n=!0===t?null:0;if("persian"===e.calendar){const e=ve(a);return{year:e.jy,month:e.jm,day:e.jd}}return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:n,minute:n,second:n,millisecond:n}}}}(e,r);let p;const b=function(e){return s((()=>({type:"hidden",name:e.name,value:e.modelValue})))}(e),M=function(e={}){return(t,a,n)=>{t[a](d("input",{class:"hidden"+(n||""),...e.value}))}}(b),_=f(null),w=f(xe()),C=f(g()),x=s((()=>xe())),Y=s((()=>g())),V=s((()=>y())),O=f(Ye(w.value,C.value)),A=f(e.defaultView),B=!0===r.lang.rtl?"right":"left",j=f(B.value),F=f(B.value),R=O.value.year,T=f(R-R%20-(R<0?20:0)),E=f(null),I=s((()=>{const t=!0===e.landscape?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${!0===e.minimal?"minimal":"standard"}`+(!0===i.value?" q-date--dark q-dark":"")+(!0===e.bordered?" q-date--bordered":"")+(!0===e.square?" q-date--square no-border-radius":"")+(!0===e.flat?" q-date--flat no-shadow":"")+(!0===e.disable?" disabled":!0===e.readonly?" q-date--readonly":"")})),Z=s((()=>e.color||"primary")),z=s((()=>e.textColor||"white")),Q=s((()=>!0===e.emitImmediately&&!0!==e.multiple&&!0!==e.range)),L=s((()=>!0===Array.isArray(e.modelValue)?e.modelValue:null!==e.modelValue&&void 0!==e.modelValue?[e.modelValue]:[])),P=s((()=>L.value.filter((e=>"string"==typeof e)).map((e=>De(e,w.value,C.value))).filter((e=>null!==e.dateHash&&null!==e.day&&null!==e.month&&null!==e.year)))),N=s((()=>{const e=e=>De(e,w.value,C.value);return L.value.filter((e=>!0===H(e)&&void 0!==e.from&&void 0!==e.to)).map((t=>({from:e(t.from),to:e(t.to)}))).filter((e=>null!==e.from.dateHash&&null!==e.to.dateHash&&e.from.dateHash<e.to.dateHash))})),U=s((()=>"persian"!==e.calendar?e=>new Date(e.year,e.month-1,e.day):e=>{const t=fe(e.year,e.month,e.day);return new Date(t.gy,t.gm-1,t.gd)})),X=s((()=>"persian"===e.calendar?we:(e,t,a)=>function(e,t,a,n,o){if(0!==e&&!e||e===1/0||e===-1/0)return;const l=new Date(e);if(isNaN(l))return;void 0===t&&(t="YYYY-MM-DDTHH:mm:ss.SSSZ");const r=Se(a,S.props);return t.replace(Ce,((e,t)=>e in je?je[e](l,r,n,o):void 0===t?e:t.split("\\]").join("]")))}(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),void 0===t?w.value:t,void 0===a?C.value:a,e.year,e.timezoneOffset))),W=s((()=>P.value.length+N.value.reduce(((e,t)=>e+1+Oe(U.value(t.to),U.value(t.from))),0))),J=s((()=>{if(void 0!==e.title&&null!==e.title&&0!==e.title.length)return e.title;if(null!==E.value){const e=E.value.init,t=U.value(e);return C.value.daysShort[t.getDay()]+", "+C.value.monthsShort[e.month-1]+" "+e.day+" — ?"}if(0===W.value)return" — ";if(W.value>1)return`${W.value} ${C.value.pluralDay}`;const t=P.value[0],a=U.value(t);return!0===isNaN(a.valueOf())?" — ":void 0!==C.value.headerTitle?C.value.headerTitle(a,t):C.value.daysShort[a.getDay()]+", "+C.value.monthsShort[t.month-1]+" "+t.day})),K=s((()=>P.value.concat(N.value.map((e=>e.from))).sort(((e,t)=>e.year-t.year||e.month-t.month))[0])),G=s((()=>P.value.concat(N.value.map((e=>e.to))).sort(((e,t)=>t.year-e.year||t.month-e.month))[0])),ee=s((()=>{if(void 0!==e.subtitle&&null!==e.subtitle&&0!==e.subtitle.length)return e.subtitle;if(0===W.value)return" — ";if(W.value>1){const e=K.value,t=G.value,a=C.value.monthsShort;return a[e.month-1]+(e.year!==t.year?" "+e.year+" — "+a[t.month-1]+" ":e.month!==t.month?" — "+a[t.month-1]:"")+" "+t.year}return P.value[0].year})),te=s((()=>{const e=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return!0===r.lang.rtl?e.reverse():e})),ae=s((()=>void 0!==e.firstDayOfWeek?Number(e.firstDayOfWeek):C.value.firstDayOfWeek)),ne=s((()=>{const e=C.value.daysShort,t=ae.value;return t>0?e.slice(t,7).concat(e.slice(0,t)):e})),oe=s((()=>{const t=O.value;return"persian"!==e.calendar?new Date(t.year,t.month,0).getDate():he(t.year,t.month)})),le=s((()=>"function"==typeof e.eventColor?e.eventColor:()=>e.eventColor)),re=s((()=>{if(void 0===e.navigationMinYearMonth)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),ie=s((()=>{if(void 0===e.navigationMaxYearMonth)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),ue=s((()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return null!==re.value&&re.value.year>=O.value.year&&(e.year.prev=!1,re.value.year===O.value.year&&re.value.month>=O.value.month&&(e.month.prev=!1)),null!==ie.value&&ie.value.year<=O.value.year&&(e.year.next=!1,ie.value.year===O.value.year&&ie.value.month<=O.value.month&&(e.month.next=!1)),e})),se=s((()=>{const e={};return P.value.forEach((t=>{const a=Ee(t);void 0===e[a]&&(e[a]=[]),e[a].push(t.day)})),e})),de=s((()=>{const e={};return N.value.forEach((t=>{const a=Ee(t.from),n=Ee(t.to);if(void 0===e[a]&&(e[a]=[]),e[a].push({from:t.from.day,to:a===n?t.to.day:void 0,range:t}),a<n){let a;const{year:o,month:l}=t.from,r=l<12?{year:o,month:l+1}:{year:o+1,month:1};for(;(a=Ee(r))<=n;)void 0===e[a]&&(e[a]=[]),e[a].push({from:void 0,to:a===n?t.to.day:void 0,range:t}),r.month++,r.month>12&&(r.year++,r.month=1)}})),e})),ce=s((()=>{if(null===E.value)return;const{init:e,initHash:t,final:a,finalHash:n}=E.value,[o,l]=t<=n?[e,a]:[a,e],r=Ee(o),i=Ee(l);if(r!==me.value&&i!==me.value)return;const u={};return r===me.value?(u.from=o.day,u.includeFrom=!0):u.from=1,i===me.value?(u.to=l.day,u.includeTo=!0):u.to=oe.value,u})),me=s((()=>Ee(O.value))),ge=s((()=>{const t={};if(void 0===e.options){for(let e=1;e<=oe.value;e++)t[e]=!0;return t}const a="function"==typeof e.options?e.options:t=>e.options.includes(t);for(let e=1;e<=oe.value;e++){const n=me.value+"/"+$(e);t[e]=a(n)}return t})),ye=s((()=>{const t={};if(void 0===e.events)for(let e=1;e<=oe.value;e++)t[e]=!1;else{const a="function"==typeof e.events?e.events:t=>e.events.includes(t);for(let e=1;e<=oe.value;e++){const n=me.value+"/"+$(e);t[e]=!0===a(n)&&le.value(n)}}return t})),pe=s((()=>{let t,a;const{year:n,month:o}=O.value;if("persian"!==e.calendar)t=new Date(n,o-1,1),a=new Date(n,o-1,0).getDate();else{const e=fe(n,o,1);t=new Date(e.gy,e.gm-1,e.gd);let l=o-1,r=n;0===l&&(l=12,r--),a=he(r,l)}return{days:t.getDay()-ae.value-1,endDay:a}})),be=s((()=>{const e=[],{days:t,endDay:a}=pe.value,n=t<0?t+7:t;if(n<6)for(let r=a-n;r<=a;r++)e.push({i:r,fill:!0});const o=e.length;for(let r=1;r<=oe.value;r++){const t={i:r,event:ye.value[r],classes:[]};!0===ge.value[r]&&(t.in=!0,t.flat=!0),e.push(t)}if(void 0!==se.value[me.value]&&se.value[me.value].forEach((t=>{const a=o+t-1;Object.assign(e[a],{selected:!0,unelevated:!0,flat:!1,color:Z.value,textColor:z.value})})),void 0!==de.value[me.value]&&de.value[me.value].forEach((t=>{if(void 0!==t.from){const a=o+t.from-1,n=o+(t.to||oe.value)-1;for(let o=a;o<=n;o++)Object.assign(e[o],{range:t.range,unelevated:!0,color:Z.value,textColor:z.value});Object.assign(e[a],{rangeFrom:!0,flat:!1}),void 0!==t.to&&Object.assign(e[n],{rangeTo:!0,flat:!1})}else if(void 0!==t.to){const a=o+t.to-1;for(let n=o;n<=a;n++)Object.assign(e[n],{range:t.range,unelevated:!0,color:Z.value,textColor:z.value});Object.assign(e[a],{flat:!1,rangeTo:!0})}else{const a=o+oe.value-1;for(let n=o;n<=a;n++)Object.assign(e[n],{range:t.range,unelevated:!0,color:Z.value,textColor:z.value})}})),void 0!==ce.value){const t=o+ce.value.from-1,a=o+ce.value.to-1;for(let n=t;n<=a;n++)e[n].color=Z.value,e[n].editRange=!0;!0===ce.value.includeFrom&&(e[t].editRangeFrom=!0),!0===ce.value.includeTo&&(e[a].editRangeTo=!0)}O.value.year===V.value.year&&O.value.month===V.value.month&&(e[o+V.value.day-1].today=!0);const l=e.length%7;if(l>0){const t=7-l;for(let a=1;a<=t;a++)e.push({i:a,fill:!0})}return e.forEach((e=>{let t="q-date__calendar-item ";!0===e.fill?t+="q-date__calendar-item--fill":(t+="q-date__calendar-item--"+(!0===e.in?"in":"out"),void 0!==e.range&&(t+=" q-date__range"+(!0===e.rangeTo?"-to":!0===e.rangeFrom?"-from":"")),!0===e.editRange&&(t+=` q-date__edit-range${!0===e.editRangeFrom?"-from":""}${!0===e.editRangeTo?"-to":""}`),void 0===e.range&&!0!==e.editRange||(t+=` text-${e.color}`)),e.classes=t})),e})),Me=s((()=>!0===e.disable?{"aria-disabled":"true"}:{}));function _e(){const{year:e,month:t,day:a}=V.value,n={...O.value,year:e,month:t,day:a},o=se.value[Ee(n)];void 0!==o&&!1!==o.includes(n.day)||ze(n),qe(n.year,n.month)}function qe(e,t){A.value="Calendar",Be(e,t)}function xe(){return"persian"===e.calendar?"YYYY/MM/DD":e.mask}function De(t,a,n){return He(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ye(t,a){const n=!0===Array.isArray(e.modelValue)?e.modelValue:e.modelValue?[e.modelValue]:[];if(0===n.length)return Ve();const o=n[n.length-1],l=De(void 0!==o.from?o.from:o,t,a);return null===l.dateHash?Ve():l}function Ve(){let t,a;if(void 0!==e.defaultYearMonth){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const e=void 0!==V.value?V.value:y();t=e.year,a=e.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+$(a)+"/01"}}function ke(e){let t=O.value.year,a=Number(O.value.month)+e;13===a?(a=1,t++):0===a&&(a=12,t--),Be(t,a),!0===Q.value&&Te("month")}function $e(e){Be(Number(O.value.year)+e,O.value.month),!0===Q.value&&Te("year")}function Ae(e){return{year:e.year,month:e.month,day:e.day}}function Be(e,t,a){if(null!==re.value&&e<=re.value.year&&((t<re.value.month||e<re.value.year)&&(t=re.value.month),e=re.value.year),null!==ie.value&&e>=ie.value.year&&((t>ie.value.month||e>ie.value.year)&&(t=ie.value.month),e=ie.value.year),void 0!==a){const{hour:e,minute:t,second:n,millisecond:o,timezoneOffset:l,timeHash:r}=a;Object.assign(O.value,{hour:e,minute:t,second:n,millisecond:o,timezoneOffset:l,timeHash:r})}const n=e+"/"+$(t)+"/01";n!==O.value.dateHash&&(j.value=O.value.dateHash<n==(!0!==r.lang.rtl)?"left":"right",e!==O.value.year&&(F.value=j.value),q((()=>{T.value=e-e%20-(e<0?20:0),Object.assign(O.value,{year:e,month:t,day:1,dateHash:n})})))}function Fe(t,a,o){const l=null!==t&&1===t.length&&!1===e.multiple?t[0]:t;p=l;const{reason:r,details:i}=Ie(a,o);n("update:modelValue",l,r,i)}function Te(t){const a=void 0!==P.value[0]&&null!==P.value[0].dateHash?{...P.value[0]}:{...O.value};q((()=>{a.year=O.value.year,a.month=O.value.month;const o="persian"!==e.calendar?new Date(a.year,a.month,0).getDate():he(a.year,a.month);a.day=Math.min(Math.max(1,a.day),o);const l=Ze(a);p=l;const{details:r}=Ie("",a);n("update:modelValue",l,t,r)}))}function Ie(e,t){return void 0!==t.from?{reason:`${e}-range`,details:{...Ae(t.target),from:Ae(t.from),to:Ae(t.to)}}:{reason:`${e}-day`,details:Ae(t)}}function Ze(e,t,a){return void 0!==e.from?{from:X.value(e.from,t,a),to:X.value(e.to,t,a)}:X.value(e,t,a)}function ze(t){let a;if(!0===e.multiple)if(void 0!==t.from){const e=we(t.from),n=we(t.to),o=P.value.filter((t=>t.dateHash<e||t.dateHash>n)),l=N.value.filter((({from:t,to:a})=>a.dateHash<e||t.dateHash>n));a=o.concat(l).concat(t).map((e=>Ze(e)))}else{const e=L.value.slice();e.push(Ze(t)),a=e}else a=Ze(t);Fe(a,"add",t)}function Qe(t){if(!0===e.noUnset)return;let a=null;if(!0===e.multiple&&!0===Array.isArray(e.modelValue)){const n=Ze(t);a=void 0!==t.from?e.modelValue.filter((e=>void 0===e.from||e.from!==n.from&&e.to!==n.to)):e.modelValue.filter((e=>e!==n)),0===a.length&&(a=null)}Fe(a,"remove",t)}function Le(t,a,o){const l=P.value.concat(N.value).map((e=>Ze(e,t,a))).filter((e=>void 0!==e.from?null!==e.from.dateHash&&null!==e.to.dateHash:null!==e.dateHash));n("update:modelValue",(!0===e.multiple?l:l[0])||null,o)}function Pe(){if(!0!==e.minimal)return d("div",{class:"q-date__header "+m.value},[d("div",{class:"relative-position"},[d(D,{name:"q-transition--fade"},(()=>d("div",{key:"h-yr-"+ee.value,class:"q-date__header-subtitle q-date__header-link "+("Years"===A.value?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...u("vY",{onClick(){A.value="Years"},onKeyup(e){13===e.keyCode&&(A.value="Years")}})},[ee.value])))]),d("div",{class:"q-date__header-title relative-position flex no-wrap"},[d("div",{class:"relative-position col"},[d(D,{name:"q-transition--fade"},(()=>d("div",{key:"h-sub"+J.value,class:"q-date__header-title-label q-date__header-link "+("Calendar"===A.value?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...u("vC",{onClick(){A.value="Calendar"},onKeyup(e){13===e.keyCode&&(A.value="Calendar")}})},[J.value])))]),!0===e.todayBtn?d(o,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:v.value,onClick:_e}):null])])}function Ne({label:e,type:t,key:a,dir:n,goTo:l,boundaries:r,cls:i}){return[d("div",{class:"row items-center q-date__arrow"},[d(o,{round:!0,dense:!0,size:"sm",flat:!0,icon:te.value[0],tabindex:v.value,disable:!1===r.prev,...u("go-#"+t,{onClick(){l(-1)}})})]),d("div",{class:"relative-position overflow-hidden flex flex-center"+i},[d(D,{name:"q-transition--jump-"+n},(()=>d("div",{key:a},[d(o,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:v.value,...u("view#"+t,{onClick:()=>{A.value=t}})})])))]),d("div",{class:"row items-center q-date__arrow"},[d(o,{round:!0,dense:!0,size:"sm",flat:!0,icon:te.value[1],tabindex:v.value,disable:!1===r.next,...u("go+#"+t,{onClick(){l(1)}})})])]}h((()=>e.modelValue),(e=>{if(p===e)p=0;else{const e=Ye(w.value,C.value);Be(e.year,e.month,e)}})),h(A,(()=>{null!==_.value&&!0===l.$el.contains(document.activeElement)&&_.value.focus()})),h((()=>O.value.year+"|"+O.value.month),(()=>{n("navigation",{year:O.value.year,month:O.value.month})})),h(x,(e=>{Le(e,C.value,"mask"),w.value=e})),h(Y,(e=>{Le(w.value,e,"locale"),C.value=e}));const Ue={Calendar:()=>[d("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[d("div",{class:"q-date__navigation row items-center no-wrap"},Ne({label:C.value.months[O.value.month-1],type:"Months",key:O.value.month,dir:j.value,goTo:ke,boundaries:ue.value.month,cls:" col"}).concat(Ne({label:O.value.year,type:"Years",key:O.value.year,dir:F.value,goTo:$e,boundaries:ue.value.year,cls:""}))),d("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},ne.value.map((e=>d("div",{class:"q-date__calendar-item"},[d("div",e)])))),d("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[d(D,{name:"q-transition--slide-"+j.value},(()=>d("div",{key:me.value,class:"q-date__calendar-days fit"},be.value.map((t=>d("div",{class:t.classes},[!0===t.in?d(o,{class:!0===t.today?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:v.value,...u("day#"+t.i,{onClick:()=>{!function(t){const a={...O.value,day:t};if(!1===e.range)return void function(e,t){const a=se.value[t];(void 0!==a&&!0===a.includes(e.day)?Qe:ze)(e)}(a,me.value);if(null===E.value){const o=be.value.find((e=>!0!==e.fill&&e.i===t));if(!0!==e.noUnset&&void 0!==o.range)return void Qe({target:a,from:o.range.from,to:o.range.to});if(!0===o.selected)return void Qe(a);const l=we(a);E.value={init:a,initHash:l,final:a,finalHash:l},n("rangeStart",Ae(a))}else{const e=E.value.initHash,t=we(a),o=e<=t?{from:E.value.init,to:a}:{from:a,to:E.value.init};E.value=null,ze(e===t?a:{target:a,...o}),n("rangeEnd",{from:Ae(o.from),to:Ae(o.to)})}}(t.i)},onMouseover:()=>{!function(e){if(null!==E.value){const t={...O.value,day:e};Object.assign(E.value,{final:t,finalHash:we(t)})}}(t.i)}})},!1!==t.event?()=>d("div",{class:"q-date__event bg-"+t.event}):null):d("div",""+t.i)]))))))])])],Months(){const t=O.value.year===V.value.year,a=e=>null!==re.value&&O.value.year===re.value.year&&re.value.month>e||null!==ie.value&&O.value.year===ie.value.year&&ie.value.month<e,n=C.value.monthsShort.map(((e,n)=>{const l=O.value.month===n+1;return d("div",{class:"q-date__months-item flex flex-center"},[d(o,{class:!0===t&&V.value.month===n+1?"q-date__today":null,flat:!0!==l,label:e,unelevated:l,color:!0===l?Z.value:null,textColor:!0===l?z.value:null,tabindex:v.value,disable:a(n+1),...u("month#"+n,{onClick:()=>{!function(e){Be(O.value.year,e),A.value="Calendar",!0===Q.value&&Te("month")}(n+1)}})})])}));return!0===e.yearsInMonthView&&n.unshift(d("div",{class:"row no-wrap full-width"},[Ne({label:O.value.year,type:"Years",key:O.value.year,dir:F.value,goTo:$e,boundaries:ue.value.year,cls:" col"})])),d("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=T.value,a=t+20,n=[],l=e=>null!==re.value&&re.value.year>e||null!==ie.value&&ie.value.year<e;for(let r=t;r<=a;r++){const t=O.value.year===r;n.push(d("div",{class:"q-date__years-item flex flex-center"},[d(o,{key:"yr"+r,class:V.value.year===r?"q-date__today":null,flat:!t,label:r,dense:!0,unelevated:t,color:!0===t?Z.value:null,textColor:!0===t?z.value:null,tabindex:v.value,disable:l(r),...u("yr#"+r,{onClick:()=>{Be(r,O.value.month),A.value="Years"===e.defaultView?"Months":"Calendar",!0===Q.value&&Te("year")}})})]))}return d("div",{class:"q-date__view q-date__years flex flex-center"},[d("div",{class:"col-auto"},[d(o,{round:!0,dense:!0,flat:!0,icon:te.value[0],tabindex:v.value,disable:l(t),...u("y-",{onClick:()=>{T.value-=20}})})]),d("div",{class:"q-date__years-content col self-stretch row items-center"},n),d("div",{class:"col-auto"},[d(o,{round:!0,dense:!0,flat:!0,icon:te.value[1],tabindex:v.value,disable:l(a),...u("y+",{onClick:()=>{T.value+=20}})})])])}};return Object.assign(l,{setToday:_e,setView:function(e){!0===Re(e)&&(A.value=e)},offsetCalendar:function(e,t){if(["month","year"].includes(e)){("month"===e?ke:$e)(!0===t?-1:1)}},setCalendarTo:qe,setEditingRange:function(t,a){if(!1===e.range||!t)return void(E.value=null);const n=Object.assign({...O.value},t),o=void 0!==a?Object.assign({...O.value},a):n;E.value={init:n,initHash:we(n),final:o,finalHash:we(o)},qe(n.year,n.month)}}),()=>{const n=[d("div",{class:"q-date__content col relative-position"},[d(D,{name:"q-transition--fade"},Ue[A.value])])],o=t(a.default);return void 0!==o&&n.push(d("div",{class:"q-date__actions"},o)),void 0!==e.name&&!0!==e.disable&&M(n,"push"),d("div",{class:I.value,...Me.value},[Pe(),d("div",{ref:_,class:"q-date__main col column",tabindex:-1},n)])}}});export{O as Q,ue as a,le as b,re as c,se as d,de as e,ne as f,ie as g,Ie as h,ee as i,ae as j,te as r,oe as u};
