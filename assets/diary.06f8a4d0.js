import{c as e,S as t,U as i}from"./index.92600922.js";const a={dark:{type:Boolean,default:null}};function s(t,i){return e((()=>null===t.dark?i.dark.isActive:t.dark))}function r(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==t.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}const n=["B","KB","MB","GB","TB","PB"];function o(e){let t=0;for(;parseInt(e,10)>=1024&&t<n.length-1;)e/=1024,++t;return`${e.toFixed(1)}${n[t]}`}function d(e,t,i){return i<=t?t:Math.min(i,Math.max(t,e))}function l(e,t=2,i="0"){if(null==e)return e;const a=""+e;return a.length>=t?a:new Array(t-a.length+1).join(i)+a}function c(){var e=new Date,t=e.getFullYear(),i=e.getMonth()+1,a=e.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),t+"/"+i+"/"+a}const h={months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"dias"},u=i("diary",{state:()=>({diaries:JSON.parse(localStorage.getItem("diaries"))||[]}),actions:{importDiary(e){const t=new FileReader;t.onload=e=>{const t=JSON.parse(e.target.result);this.diaries=t},t.readAsText(e)},loadDiary(){const e=localStorage.getItem("diaries");e&&(this.diaries=JSON.parse(e))},addDiary(e){let t=this.diaries.findIndex((t=>t.date===e.date));-1!==t?(this.diaries[t].content=e.content,this.diaries[t].title=e.title):this.diaries.push(e),this.saveDiary(),console.log("已新增日记！，所有的日记：",this.diaries)},deleteDiary(e){this.diaries.splice(e,1),this.saveDiary()},editDiary({index:e,diary:t}){this.diaries[e]=t,this.saveDiary()},saveDiary(){localStorage.setItem("diaries",JSON.stringify(this.diaries))},clearDiary(){localStorage.removeItem("diaries")},async toJsonFile(){const e=`${c()}_diaryData.json`,t=JSON.stringify({data:this.diaries},null,2),i=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=e,s.click(),URL.revokeObjectURL(a)}}});export{s as a,d as b,u as c,r as d,c as g,o as h,h as m,l as p,a as u};
