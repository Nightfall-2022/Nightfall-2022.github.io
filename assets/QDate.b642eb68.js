import{c as wt,h as ye,Q as st,o as Kt,e as X}from"./QBtn.8127231c.js";import{d as Ne,e as me,f as Gt,k as en,c as h,h as f,g as ie,i as tn,r as H,o as Le,w as z,a0 as nn,a as Ue,a1 as an,Y as on,a2 as rn,N as ln,b as Ze,X as un,a3 as sn,O as De,T as ge,a4 as Ct,a5 as dn,a6 as cn}from"./index.2c6a7d5a.js";import{u as xt,a as St,p as x}from"./diary.15522827.js";var Qn=wt({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:r}}=ie(),o=Ne(Gt,me);if(o===me)return console.error("QPage needs to be a deep child of QLayout"),me;if(Ne(en,me)===me)return console.error("QPage needs to be child of QPageContainer"),me;const u=h(()=>{const i=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const y=o.isContainer.value===!0?o.containerHeight.value:r.screen.height;return e.styleFn(i,y)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-i+"px":r.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":r.screen.height-i+"px"}}),g=h(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>f("main",{class:g.value,style:u.value},ye(n.default))}});let Ee,Se=0;const B=new Array(256);for(let e=0;e<256;e++)B[e]=(e+256).toString(16).substring(1);const fn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return n=>{const r=new Uint8Array(n);return e.getRandomValues(r),r}}return n=>{const r=[];for(let o=n;o>0;o--)r.push(Math.floor(Math.random()*256));return r}})(),dt=4096;function ze(){(Ee===void 0||Se+16>dt)&&(Se=0,Ee=fn(dt));const e=Array.prototype.slice.call(Ee,Se,Se+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,B[e[0]]+B[e[1]]+B[e[2]]+B[e[3]]+"-"+B[e[4]]+B[e[5]]+"-"+B[e[6]]+B[e[7]]+"-"+B[e[8]]+B[e[9]]+"-"+B[e[10]]+B[e[11]]+B[e[12]]+B[e[13]]+B[e[14]]+B[e[15]]}function vn(e){return e==null?null:e}function ct(e,n){return e==null?n===!0?`f_${ze()}`:null:e}function mn({getValue:e,required:n=!0}={}){if(tn.value===!0){const r=e!==void 0?H(vn(e())):H(null);return n===!0&&r.value===null&&Le(()=>{r.value=`f_${ze()}`}),e!==void 0&&z(e,o=>{r.value=ct(o,n)}),r}return e!==void 0?h(()=>ct(e(),n)):H(`f_${ze()}`)}function hn({validate:e,resetValidation:n,requiresQForm:r}){const o=Ne(nn,!1);if(o!==!1){const{props:s,proxy:u}=ie();Object.assign(u,{validate:e,resetValidation:n}),z(()=>s.disable,g=>{g===!0?(typeof n=="function"&&n(),o.unbindComponent(u)):o.bindComponent(u)}),Le(()=>{s.disable!==!0&&o.bindComponent(u)}),Ue(()=>{s.disable!==!0&&o.unbindComponent(u)})}else r===!0&&console.error("Parent QForm not found on useFormChild()!")}const ft=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,vt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,mt=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,qe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Te={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ft.test(e),hexaColor:e=>vt.test(e),hexOrHexaColor:e=>mt.test(e),rgbColor:e=>qe.test(e),rgbaColor:e=>Ye.test(e),rgbOrRgbaColor:e=>qe.test(e)||Ye.test(e),hexOrRgbColor:e=>ft.test(e)||qe.test(e),hexaOrRgbaColor:e=>vt.test(e)||Ye.test(e),anyColor:e=>mt.test(e)||qe.test(e)||Ye.test(e)},gn=[!0,!1,"ondemand"],yn={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>gn.includes(e)}};function bn(e,n){const{props:r,proxy:o}=ie(),s=H(!1),u=H(null),g=H(!1);hn({validate:T,resetValidation:O});let i=0,y;const S=h(()=>r.rules!==void 0&&r.rules!==null&&r.rules.length!==0),v=h(()=>r.disable!==!0&&S.value===!0&&n.value===!1),M=h(()=>r.error===!0||s.value===!0),j=h(()=>typeof r.errorMessage=="string"&&r.errorMessage.length!==0?r.errorMessage:u.value);z(()=>r.modelValue,()=>{g.value=!0,v.value===!0&&r.lazyRules===!1&&C()});function $(){r.lazyRules!=="ondemand"&&v.value===!0&&g.value===!0&&C()}z(()=>r.reactiveRules,Q=>{Q===!0?y===void 0&&(y=z(()=>r.rules,$,{immediate:!0,deep:!0})):y!==void 0&&(y(),y=void 0)},{immediate:!0}),z(()=>r.lazyRules,$),z(e,Q=>{Q===!0?g.value=!0:v.value===!0&&r.lazyRules!=="ondemand"&&C()});function O(){i++,n.value=!1,g.value=!1,s.value=!1,u.value=null,C.cancel()}function T(Q=r.modelValue){if(r.disable===!0||S.value===!1)return!0;const J=++i,P=n.value!==!0?()=>{g.value=!0}:()=>{},p=(k,V)=>{k===!0&&P(),s.value=k,u.value=V||null,n.value=!1},F=[];for(let k=0;k<r.rules.length;k++){const V=r.rules[k];let I;if(typeof V=="function"?I=V(Q,Te):typeof V=="string"&&Te[V]!==void 0&&(I=Te[V](Q)),I===!1||typeof I=="string")return p(!0,I),!1;I!==!0&&I!==void 0&&F.push(I)}return F.length===0?(p(!1),!0):(n.value=!0,Promise.all(F).then(k=>{if(k===void 0||Array.isArray(k)===!1||k.length===0)return J===i&&p(!1),!0;const V=k.find(I=>I===!1||typeof I=="string");return J===i&&p(V!==void 0,V),V===void 0},k=>(J===i&&(console.error(k),p(!0)),!1)))}const C=an(T,0);return Ue(()=>{y!==void 0&&y(),C.cancel()}),Object.assign(o,{resetValidation:O,validate:T}),on(o,"hasError",()=>M.value),{isDirtyModel:g,hasRules:S,hasError:M,errorMessage:j,validate:T,resetValidation:O}}const ht=/^on[A-Z]/;function pn(){const{attrs:e,vnode:n}=ie(),r={listeners:H({}),attributes:H({})};function o(){const s={},u={};for(const g in e)g!=="class"&&g!=="style"&&ht.test(g)===!1&&(s[g]=e[g]);for(const g in n.props)ht.test(g)===!0&&(u[g]=n.props[g]);r.attributes.value=s,r.listeners.value=u}return rn(o),o(),r}let ue=[],_e=[];function qt(e){_e=_e.filter(n=>n!==e)}function Ln(e){qt(e),_e.push(e)}function Un(e){qt(e),_e.length===0&&ue.length!==0&&(ue[ue.length-1](),ue=[])}function Mn(e){_e.length===0?e():ue.push(e)}function Dn(e){ue=ue.filter(n=>n!==e)}function _n(e){return e!=null&&(""+e).length!==0}const Xn={...xt,...yn,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Wn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function Jn({requiredForAttr:e=!0,tagProp:n}={}){const{props:r,proxy:o}=ie(),s=St(r,o.$q),u=mn({required:e,getValue:()=>r.for});return{requiredForAttr:e,tag:n===!0?h(()=>r.tag):{value:"label"},isDark:s,editable:h(()=>r.disable!==!0&&r.readonly!==!0),innerLoading:H(!1),focused:H(!1),hasPopupOpen:!1,splitAttrs:pn(),targetUid:u,rootRef:H(null),targetRef:H(null),controlRef:H(null)}}function Kn(e){const{props:n,emit:r,slots:o,attrs:s,proxy:u}=ie(),{$q:g}=u;let i=null;e.hasValue===void 0&&(e.hasValue=h(()=>_n(n.modelValue))),e.emitValue===void 0&&(e.emitValue=m=>{r("update:modelValue",m)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:se,onFocusout:ae}),Object.assign(e,{clearValue:A,onControlFocusin:se,onControlFocusout:ae,focus:V}),e.computedCounter===void 0&&(e.computedCounter=h(()=>{if(n.counter!==!1){const m=typeof n.modelValue=="string"||typeof n.modelValue=="number"?(""+n.modelValue).length:Array.isArray(n.modelValue)===!0?n.modelValue.length:0,_=n.maxlength!==void 0?n.maxlength:n.maxValues;return m+(_!==void 0?" / "+_:"")}}));const{isDirtyModel:y,hasRules:S,hasError:v,errorMessage:M,resetValidation:j}=bn(e.focused,e.innerLoading),$=e.floatingLabel!==void 0?h(()=>n.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):h(()=>n.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),O=h(()=>n.bottomSlots===!0||n.hint!==void 0||S.value===!0||n.counter===!0||n.error!==null),T=h(()=>n.filled===!0?"filled":n.outlined===!0?"outlined":n.borderless===!0?"borderless":n.standout?"standout":"standard"),C=h(()=>`q-field row no-wrap items-start q-field--${T.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(n.rounded===!0?" q-field--rounded":"")+(n.square===!0?" q-field--square":"")+($.value===!0?" q-field--float":"")+(J.value===!0?" q-field--labeled":"")+(n.dense===!0?" q-field--dense":"")+(n.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(v.value===!0?" q-field--error":"")+(v.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(n.hideBottomSpace!==!0&&O.value===!0?" q-field--with-bottom":"")+(n.disable===!0?" q-field--disabled":n.readonly===!0?" q-field--readonly":"")),Q=h(()=>"q-field__control relative-position row no-wrap"+(n.bgColor!==void 0?` bg-${n.bgColor}`:"")+(v.value===!0?" text-negative":typeof n.standout=="string"&&n.standout.length!==0&&e.focused.value===!0?` ${n.standout}`:n.color!==void 0?` text-${n.color}`:"")),J=h(()=>n.labelSlot===!0||n.label!==void 0),P=h(()=>"q-field__label no-pointer-events absolute ellipsis"+(n.labelColor!==void 0&&v.value!==!0?` text-${n.labelColor}`:"")),p=h(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:$.value,modelValue:n.modelValue,emitValue:e.emitValue})),F=h(()=>{const m={};return e.targetUid.value&&(m.for=e.targetUid.value),n.disable===!0&&(m["aria-disabled"]="true"),m});function k(){const m=document.activeElement;let _=e.targetRef!==void 0&&e.targetRef.value;_&&(m===null||m.id!==e.targetUid.value)&&(_.hasAttribute("tabindex")===!0||(_=_.querySelector("[tabindex]")),_&&_!==m&&_.focus({preventScroll:!0}))}function V(){Mn(k)}function I(){Dn(k);const m=document.activeElement;m!==null&&e.rootRef.value.contains(m)&&m.blur()}function se(m){i!==null&&(clearTimeout(i),i=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,r("focus",m))}function ae(m,_){i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,r("blur",m)),_!==void 0&&_())})}function A(m){ln(m),g.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),n.type==="file"&&(e.inputRef.value.value=null),r("update:modelValue",null),r("clear",n.modelValue),Ze(()=>{const _=y.value;j(),y.value=_})}function ke(){const m=[];return o.prepend!==void 0&&m.push(f("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:De},o.prepend())),m.push(f("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},L())),v.value===!0&&n.noErrorIcon===!1&&m.push(U("error",[f(st,{name:g.iconSet.field.error,color:"negative"})])),n.loading===!0||e.innerLoading.value===!0?m.push(U("inner-loading-append",o.loading!==void 0?o.loading():[f(Kt,{color:n.color})])):n.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&m.push(U("inner-clearable-append",[f(st,{class:"q-field__focusable-action",tag:"button",name:n.clearIcon||g.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:A})])),o.append!==void 0&&m.push(f("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:De},o.append())),e.getInnerAppend!==void 0&&m.push(U("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&m.push(e.getControlChild()),m}function L(){const m=[];return n.prefix!==void 0&&n.prefix!==null&&m.push(f("div",{class:"q-field__prefix no-pointer-events row items-center"},n.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&m.push(e.getShadowControl()),e.getControl!==void 0?m.push(e.getControl()):o.rawControl!==void 0?m.push(o.rawControl()):o.control!==void 0&&m.push(f("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":n.autofocus===!0||void 0},o.control(p.value))),J.value===!0&&m.push(f("div",{class:P.value},ye(o.label,n.label))),n.suffix!==void 0&&n.suffix!==null&&m.push(f("div",{class:"q-field__suffix no-pointer-events row items-center"},n.suffix)),m.concat(ye(o.default))}function K(){let m,_;v.value===!0?M.value!==null?(m=[f("div",{role:"alert"},M.value)],_=`q--slot-error-${M.value}`):(m=ye(o.error),_="q--slot-error"):(n.hideHint!==!0||e.focused.value===!0)&&(n.hint!==void 0?(m=[f("div",n.hint)],_=`q--slot-hint-${n.hint}`):(m=ye(o.hint),_="q--slot-hint"));const oe=n.counter===!0||o.counter!==void 0;if(n.hideBottomSpace===!0&&oe===!1&&m===void 0)return;const ce=f("div",{key:_,class:"q-field__messages col"},m);return f("div",{class:"q-field__bottom row items-start q-field__bottom--"+(n.hideBottomSpace!==!0?"animated":"stale"),onClick:De},[n.hideBottomSpace===!0?ce:f(ge,{name:"q-transition--field-message"},()=>ce),oe===!0?f("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function U(m,_){return _===null?null:f("div",{key:m,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},_)}let de=!1;return un(()=>{de=!0}),sn(()=>{de===!0&&n.autofocus===!0&&u.focus()}),n.autofocus===!0&&Le(()=>{u.focus()}),Ue(()=>{i!==null&&clearTimeout(i)}),Object.assign(u,{focus:V,blur:I}),function(){const _=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":n.autofocus===!0||void 0,...F.value}:F.value;return f(e.tag.value,{ref:e.rootRef,class:[C.value,s.class],style:s.style,..._},[o.before!==void 0?f("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:De},o.before()):null,f("div",{class:"q-field__inner relative-position col self-stretch"},[f("div",{ref:e.controlRef,class:Q.value,tabindex:-1,...e.controlEvents},ke()),O.value===!0?K():null]),o.after!==void 0?f("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:De},o.after()):null])}}const wn={name:String};function Cn(e){return h(()=>({type:"hidden",name:e.name,value:e.modelValue}))}function xn(e={}){return(n,r,o)=>{n[r](f("input",{class:"hidden"+(o||""),...e.value}))}}function Gn(e){return h(()=>e.name||e.for)}function ea(e,n){function r(){const o=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(u=>{s.items.add(u)}),{files:s.files}}catch{return{files:void 0}}}return n===!0?h(()=>{if(e.type==="file")return r()}):h(r)}function Sn(){let e=Object.create(null);return{getCache:(n,r)=>e[n]===void 0?e[n]=typeof r=="function"?r():r:e[n],setCache(n,r){e[n]=r},hasCache(n){return e.hasOwnProperty(n)},clearCache(n){n!==void 0?delete e[n]:e={}}}}const ne=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function qn(e,n,r){return Object.prototype.toString.call(e)==="[object Date]"&&(r=e.getDate(),n=e.getMonth()+1,e=e.getFullYear()),kn(Xe(e,n,r))}function gt(e,n,r){return Ht(Fn(e,n,r))}function Yn(e){return Hn(e)===0}function Fe(e,n){return n<=6?31:n<=11||Yn(e)?30:29}function Hn(e){const n=ne.length;let r=ne[0],o,s,u,g,i;if(e<r||e>=ne[n-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<n&&(o=ne[i],s=o-r,!(e<o));i+=1)r=o;return g=e-r,s-g<6&&(g=g-s+Y(s+4,33)*33),u=N(N(g+1,33)-1,4),u===-1&&(u=4),u}function Yt(e,n){const r=ne.length,o=e+621;let s=-14,u=ne[0],g,i,y,S,v;if(e<u||e>=ne[r-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<r&&(g=ne[v],i=g-u,!(e<g));v+=1)s=s+Y(i,33)*8+Y(N(i,33),4),u=g;S=e-u,s=s+Y(S,33)*8+Y(N(S,33)+3,4),N(i,33)===4&&i-S===4&&(s+=1);const M=Y(o,4)-Y((Y(o,100)+1)*3,4)-150,j=20+s-M;return n||(i-S<6&&(S=S-i+Y(i+4,33)*33),y=N(N(S+1,33)-1,4),y===-1&&(y=4)),{leap:y,gy:o,march:j}}function Fn(e,n,r){const o=Yt(e,!0);return Xe(o.gy,3,o.march)+(n-1)*31-Y(n,7)*(n-7)+r-1}function kn(e){const n=Ht(e).gy;let r=n-621,o,s,u;const g=Yt(r,!1),i=Xe(n,3,g.march);if(u=e-i,u>=0){if(u<=185)return s=1+Y(u,31),o=N(u,31)+1,{jy:r,jm:s,jd:o};u-=186}else r-=1,u+=179,g.leap===1&&(u+=1);return s=7+Y(u,30),o=N(u,30)+1,{jy:r,jm:s,jd:o}}function Xe(e,n,r){let o=Y((e+Y(n-8,6)+100100)*1461,4)+Y(153*N(n+9,12)+2,5)+r-34840408;return o=o-Y(Y(e+100100+Y(n-8,6),100)*3,4)+752,o}function Ht(e){let n=4*e+139361631;n=n+Y(Y(4*e+183187720,146097)*3,4)*4-3908;const r=Y(N(n,1461),4)*5+308,o=Y(N(r,153),5)+1,s=N(Y(r,153),12)+1;return{gy:Y(n,1461)-100100+Y(8-s,6),gm:s,gd:o}}function Y(e,n){return~~(e/n)}function N(e,n){return e-~~(e/n)*n}const Vn=["gregorian","persian"],On={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Vn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},$n=["update:modelValue"];function ee(e){return e.year+"/"+x(e.month)+"/"+x(e.day)}function In(e,n){const r=h(()=>e.disable!==!0&&e.readonly!==!0),o=h(()=>r.value===!0?0:-1),s=h(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function u(){return e.locale!==void 0?{...n.lang.date,...e.locale}:n.lang.date}function g(i){const y=new Date,S=i===!0?null:0;if(e.calendar==="persian"){const v=qn(y);return{year:v.jy,month:v.jm,day:v.jd}}return{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate(),hour:S,minute:S,second:S,millisecond:S}}return{editable:r,tabindex:o,headerClass:s,getLocale:u,getCurrentDate:g}}const Ft=864e5,An=36e5,Qe=6e4,kt="YYYY-MM-DDTHH:mm:ss.SSSZ",Bn=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Rn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,je={};function En(e,n){const r="("+n.days.join("|")+")",o=e+r;if(je[o]!==void 0)return je[o];const s="("+n.daysShort.join("|")+")",u="("+n.months.join("|")+")",g="("+n.monthsShort.join("|")+")",i={};let y=0;const S=e.replace(Rn,M=>{switch(y++,M){case"YY":return i.YY=y,"(-?\\d{1,2})";case"YYYY":return i.YYYY=y,"(-?\\d{1,4})";case"M":return i.M=y,"(\\d{1,2})";case"MM":return i.M=y,"(\\d{2})";case"MMM":return i.MMM=y,g;case"MMMM":return i.MMMM=y,u;case"D":return i.D=y,"(\\d{1,2})";case"Do":return i.D=y++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=y,"(\\d{2})";case"H":return i.H=y,"(\\d{1,2})";case"HH":return i.H=y,"(\\d{2})";case"h":return i.h=y,"(\\d{1,2})";case"hh":return i.h=y,"(\\d{2})";case"m":return i.m=y,"(\\d{1,2})";case"mm":return i.m=y,"(\\d{2})";case"s":return i.s=y,"(\\d{1,2})";case"ss":return i.s=y,"(\\d{2})";case"S":return i.S=y,"(\\d{1})";case"SS":return i.S=y,"(\\d{2})";case"SSS":return i.S=y,"(\\d{3})";case"A":return i.A=y,"(AM|PM)";case"a":return i.a=y,"(am|pm)";case"aa":return i.aa=y,"(a\\.m\\.|p\\.m\\.)";case"ddd":return s;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return i.Z=y,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=y,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=y,"(-?\\d+)";case"x":return i.x=y,"(-?\\d{4,})";default:return y--,M[0]==="["&&(M=M.substring(1,M.length-1)),M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:i,regex:new RegExp("^"+S)};return je[o]=v,v}function Vt(e,n){return e!==void 0?e:n!==void 0?n.date:dn.date}function yt(e,n=""){const r=e>0?"-":"+",o=Math.abs(e),s=Math.floor(o/60),u=o%60;return r+x(s)+n+x(u)}function Tn(e,n,r,o,s){const u={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(s!==void 0&&Object.assign(u,s),e==null||e===""||typeof e!="string")return u;n===void 0&&(n=kt);const g=Vt(r,Ct.props),i=g.months,y=g.monthsShort,{regex:S,map:v}=En(n,g),M=e.match(S);if(M===null)return u;let j="";if(v.X!==void 0||v.x!==void 0){const $=parseInt(M[v.X!==void 0?v.X:v.x],10);if(isNaN($)===!0||$<0)return u;const O=new Date($*(v.X!==void 0?1e3:1));u.year=O.getFullYear(),u.month=O.getMonth()+1,u.day=O.getDate(),u.hour=O.getHours(),u.minute=O.getMinutes(),u.second=O.getSeconds(),u.millisecond=O.getMilliseconds()}else{if(v.YYYY!==void 0)u.year=parseInt(M[v.YYYY],10);else if(v.YY!==void 0){const $=parseInt(M[v.YY],10);u.year=$<0?$:2e3+$}if(v.M!==void 0){if(u.month=parseInt(M[v.M],10),u.month<1||u.month>12)return u}else v.MMM!==void 0?u.month=y.indexOf(M[v.MMM])+1:v.MMMM!==void 0&&(u.month=i.indexOf(M[v.MMMM])+1);if(v.D!==void 0){if(u.day=parseInt(M[v.D],10),u.year===null||u.month===null||u.day<1)return u;const $=o!=="persian"?new Date(u.year,u.month,0).getDate():Fe(u.year,u.month);if(u.day>$)return u}v.H!==void 0?u.hour=parseInt(M[v.H],10)%24:v.h!==void 0&&(u.hour=parseInt(M[v.h],10)%12,(v.A&&M[v.A]==="PM"||v.a&&M[v.a]==="pm"||v.aa&&M[v.aa]==="p.m.")&&(u.hour+=12),u.hour=u.hour%24),v.m!==void 0&&(u.minute=parseInt(M[v.m],10)%60),v.s!==void 0&&(u.second=parseInt(M[v.s],10)%60),v.S!==void 0&&(u.millisecond=parseInt(M[v.S],10)*10**(3-M[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(j=v.Z!==void 0?M[v.Z].replace(":",""):M[v.ZZ],u.timezoneOffset=(j[0]==="+"?-1:1)*(60*j.slice(1,3)+1*j.slice(3,5)))}return u.dateHash=x(u.year,6)+"/"+x(u.month)+"/"+x(u.day),u.timeHash=x(u.hour)+":"+x(u.minute)+":"+x(u.second)+j,u}function bt(e){const n=new Date(e.getFullYear(),e.getMonth(),e.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=new Date(n.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const o=n.getTimezoneOffset()-r.getTimezoneOffset();n.setHours(n.getHours()-o);const s=(n-r)/(Ft*7);return 1+Math.floor(s)}function W(e,n,r){const o=new Date(e),s=`set${r===!0?"UTC":""}`;switch(n){case"year":case"years":o[`${s}Month`](0);case"month":case"months":o[`${s}Date`](1);case"day":case"days":case"date":o[`${s}Hours`](0);case"hour":case"hours":o[`${s}Minutes`](0);case"minute":case"minutes":o[`${s}Seconds`](0);case"second":case"seconds":o[`${s}Milliseconds`](0)}return o}function He(e,n,r){return(e.getTime()-e.getTimezoneOffset()*Qe-(n.getTime()-n.getTimezoneOffset()*Qe))/r}function Ot(e,n,r="days"){const o=new Date(e),s=new Date(n);switch(r){case"years":case"year":return o.getFullYear()-s.getFullYear();case"months":case"month":return(o.getFullYear()-s.getFullYear())*12+o.getMonth()-s.getMonth();case"days":case"day":case"date":return He(W(o,"day"),W(s,"day"),Ft);case"hours":case"hour":return He(W(o,"hour"),W(s,"hour"),An);case"minutes":case"minute":return He(W(o,"minute"),W(s,"minute"),Qe);case"seconds":case"second":return He(W(o,"second"),W(s,"second"),1e3)}}function pt(e){return Ot(e,W(e,"year"),"days")+1}function Mt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Dt={YY(e,n,r){const o=this.YYYY(e,n,r)%100;return o>=0?x(o):"-"+x(Math.abs(o))},YYYY(e,n,r){return r!=null?r:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return x(e.getMonth()+1)},MMM(e,n){return n.monthsShort[e.getMonth()]},MMMM(e,n){return n.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return Mt(this.Q(e))},D(e){return e.getDate()},Do(e){return Mt(e.getDate())},DD(e){return x(e.getDate())},DDD(e){return pt(e)},DDDD(e){return x(pt(e),3)},d(e){return e.getDay()},dd(e,n){return this.dddd(e,n).slice(0,2)},ddd(e,n){return n.daysShort[e.getDay()]},dddd(e,n){return n.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return bt(e)},ww(e){return x(bt(e))},H(e){return e.getHours()},HH(e){return x(e.getHours())},h(e){const n=e.getHours();return n===0?12:n>12?n%12:n},hh(e){return x(this.h(e))},m(e){return e.getMinutes()},mm(e){return x(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return x(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return x(Math.floor(e.getMilliseconds()/10))},SSS(e){return x(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,n,r,o){const s=o==null?e.getTimezoneOffset():o;return yt(s,":")},ZZ(e,n,r,o){const s=o==null?e.getTimezoneOffset():o;return yt(s)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function jn(e,n,r,o,s){if(e!==0&&!e||e===1/0||e===-1/0)return;const u=new Date(e);if(isNaN(u))return;n===void 0&&(n=kt);const g=Vt(r,Ct.props);return n.replace(Bn,(i,y)=>i in Dt?Dt[i](u,g,o,s):y===void 0?i:y.split("\\]").join("]"))}const le=20,Pn=["Calendar","Years","Months"],_t=e=>Pn.includes(e),Pe=e=>/^-?[\d]+\/[0-1]\d$/.test(e),he=" \u2014 ";function te(e){return e.year+"/"+x(e.month)}var ta=wt({name:"QDate",props:{...On,...wn,...xt,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Pe},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Pe},navigationMaxYearMonth:{type:String,validator:Pe},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:_t}},emits:[...$n,"rangeStart","rangeEnd","navigation"],setup(e,{slots:n,emit:r}){const{proxy:o}=ie(),{$q:s}=o,u=St(e,s),{getCache:g}=Sn(),{tabindex:i,headerClass:y,getLocale:S,getCurrentDate:v}=In(e,s);let M;const j=Cn(e),$=xn(j),O=H(null),T=H(nt()),C=H(S()),Q=h(()=>nt()),J=h(()=>S()),P=h(()=>v()),p=H(at(T.value,C.value)),F=H(e.defaultView),k=s.lang.rtl===!0?"right":"left",V=H(k.value),I=H(k.value),se=p.value.year,ae=H(se-se%le-(se<0?le:0)),A=H(null),ke=h(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(u.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),L=h(()=>e.color||"primary"),K=h(()=>e.textColor||"white"),U=h(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),de=h(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),m=h(()=>de.value.filter(t=>typeof t=="string").map(t=>$e(t,T.value,C.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),_=h(()=>{const t=a=>$e(a,T.value,C.value);return de.value.filter(a=>cn(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),oe=h(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=gt(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),ce=h(()=>e.calendar==="persian"?ee:(t,a,l)=>jn(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?T.value:a,l===void 0?C.value:l,t.year,t.timezoneOffset)),be=h(()=>m.value.length+_.value.reduce((t,a)=>t+1+Ot(oe.value(a.to),oe.value(a.from)),0)),We=h(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(A.value!==null){const l=A.value.init,d=oe.value(l);return C.value.daysShort[d.getDay()]+", "+C.value.monthsShort[l.month-1]+" "+l.day+he+"?"}if(be.value===0)return he;if(be.value>1)return`${be.value} ${C.value.pluralDay}`;const t=m.value[0],a=oe.value(t);return isNaN(a.valueOf())===!0?he:C.value.headerTitle!==void 0?C.value.headerTitle(a,t):C.value.daysShort[a.getDay()]+", "+C.value.monthsShort[t.month-1]+" "+t.day}),$t=h(()=>m.value.concat(_.value.map(a=>a.from)).sort((a,l)=>a.year-l.year||a.month-l.month)[0]),It=h(()=>m.value.concat(_.value.map(a=>a.to)).sort((a,l)=>l.year-a.year||l.month-a.month)[0]),Je=h(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(be.value===0)return he;if(be.value>1){const t=$t.value,a=It.value,l=C.value.monthsShort;return l[t.month-1]+(t.year!==a.year?" "+t.year+he+l[a.month-1]+" ":t.month!==a.month?he+l[a.month-1]:"")+" "+a.year}return m.value[0].year}),we=h(()=>{const t=[s.iconSet.datetime.arrowLeft,s.iconSet.datetime.arrowRight];return s.lang.rtl===!0?t.reverse():t}),Ke=h(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),At=h(()=>{const t=C.value.daysShort,a=Ke.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),G=h(()=>{const t=p.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Fe(t.year,t.month)}),Bt=h(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),R=h(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),E=h(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Ve=h(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return R.value!==null&&R.value.year>=p.value.year&&(t.year.prev=!1,R.value.year===p.value.year&&R.value.month>=p.value.month&&(t.month.prev=!1)),E.value!==null&&E.value.year<=p.value.year&&(t.year.next=!1,E.value.year===p.value.year&&E.value.month<=p.value.month&&(t.month.next=!1)),t}),Ce=h(()=>{const t={};return m.value.forEach(a=>{const l=te(a);t[l]===void 0&&(t[l]=[]),t[l].push(a.day)}),t}),Ge=h(()=>{const t={};return _.value.forEach(a=>{const l=te(a.from),d=te(a.to);if(t[l]===void 0&&(t[l]=[]),t[l].push({from:a.from.day,to:l===d?a.to.day:void 0,range:a}),l<d){let c;const{year:w,month:b}=a.from,D=b<12?{year:w,month:b+1}:{year:w+1,month:1};for(;(c=te(D))<=d;)t[c]===void 0&&(t[c]=[]),t[c].push({from:void 0,to:c===d?a.to.day:void 0,range:a}),D.month++,D.month>12&&(D.year++,D.month=1)}}),t}),pe=h(()=>{if(A.value===null)return;const{init:t,initHash:a,final:l,finalHash:d}=A.value,[c,w]=a<=d?[t,l]:[l,t],b=te(c),D=te(w);if(b!==Z.value&&D!==Z.value)return;const q={};return b===Z.value?(q.from=c.day,q.includeFrom=!0):q.from=1,D===Z.value?(q.to=w.day,q.includeTo=!0):q.to=G.value,q}),Z=h(()=>te(p.value)),Rt=h(()=>{const t={};if(e.options===void 0){for(let l=1;l<=G.value;l++)t[l]=!0;return t}const a=typeof e.options=="function"?e.options:l=>e.options.includes(l);for(let l=1;l<=G.value;l++){const d=Z.value+"/"+x(l);t[l]=a(d)}return t}),Et=h(()=>{const t={};if(e.events===void 0)for(let a=1;a<=G.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:l=>e.events.includes(l);for(let l=1;l<=G.value;l++){const d=Z.value+"/"+x(l);t[l]=a(d)===!0&&Bt.value(d)}}return t}),Tt=h(()=>{let t,a;const{year:l,month:d}=p.value;if(e.calendar!=="persian")t=new Date(l,d-1,1),a=new Date(l,d-1,0).getDate();else{const c=gt(l,d,1);t=new Date(c.gy,c.gm-1,c.gd);let w=d-1,b=l;w===0&&(w=12,b--),a=Fe(b,w)}return{days:t.getDay()-Ke.value-1,endDay:a}}),et=h(()=>{const t=[],{days:a,endDay:l}=Tt.value,d=a<0?a+7:a;if(d<6)for(let b=l-d;b<=l;b++)t.push({i:b,fill:!0});const c=t.length;for(let b=1;b<=G.value;b++){const D={i:b,event:Et.value[b],classes:[]};Rt.value[b]===!0&&(D.in=!0,D.flat=!0),t.push(D)}if(Ce.value[Z.value]!==void 0&&Ce.value[Z.value].forEach(b=>{const D=c+b-1;Object.assign(t[D],{selected:!0,unelevated:!0,flat:!1,color:L.value,textColor:K.value})}),Ge.value[Z.value]!==void 0&&Ge.value[Z.value].forEach(b=>{if(b.from!==void 0){const D=c+b.from-1,q=c+(b.to||G.value)-1;for(let Me=D;Me<=q;Me++)Object.assign(t[Me],{range:b.range,unelevated:!0,color:L.value,textColor:K.value});Object.assign(t[D],{rangeFrom:!0,flat:!1}),b.to!==void 0&&Object.assign(t[q],{rangeTo:!0,flat:!1})}else if(b.to!==void 0){const D=c+b.to-1;for(let q=c;q<=D;q++)Object.assign(t[q],{range:b.range,unelevated:!0,color:L.value,textColor:K.value});Object.assign(t[D],{flat:!1,rangeTo:!0})}else{const D=c+G.value-1;for(let q=c;q<=D;q++)Object.assign(t[q],{range:b.range,unelevated:!0,color:L.value,textColor:K.value})}}),pe.value!==void 0){const b=c+pe.value.from-1,D=c+pe.value.to-1;for(let q=b;q<=D;q++)t[q].color=L.value,t[q].editRange=!0;pe.value.includeFrom===!0&&(t[b].editRangeFrom=!0),pe.value.includeTo===!0&&(t[D].editRangeTo=!0)}p.value.year===P.value.year&&p.value.month===P.value.month&&(t[c+P.value.day-1].today=!0);const w=t.length%7;if(w>0){const b=7-w;for(let D=1;D<=b;D++)t.push({i:D,fill:!0})}return t.forEach(b=>{let D="q-date__calendar-item ";b.fill===!0?D+="q-date__calendar-item--fill":(D+=`q-date__calendar-item--${b.in===!0?"in":"out"}`,b.range!==void 0&&(D+=` q-date__range${b.rangeTo===!0?"-to":b.rangeFrom===!0?"-from":""}`),b.editRange===!0&&(D+=` q-date__edit-range${b.editRangeFrom===!0?"-from":""}${b.editRangeTo===!0?"-to":""}`),(b.range!==void 0||b.editRange===!0)&&(D+=` text-${b.color}`)),b.classes=D}),t}),jt=h(()=>e.disable===!0?{"aria-disabled":"true"}:{});z(()=>e.modelValue,t=>{if(M===t)M=0;else{const a=at(T.value,C.value);fe(a.year,a.month,a)}}),z(F,()=>{O.value!==null&&o.$el.contains(document.activeElement)===!0&&O.value.focus()}),z(()=>p.value.year+"|"+p.value.month,()=>{r("navigation",{year:p.value.year,month:p.value.month})}),z(Q,t=>{it(t,C.value,"mask"),T.value=t}),z(J,t=>{it(T.value,t,"locale"),C.value=t});function tt(){const{year:t,month:a,day:l}=P.value,d={...p.value,year:t,month:a,day:l},c=Ce.value[te(d)];(c===void 0||c.includes(d.day)===!1)&&Ae(d),Oe(d.year,d.month)}function Pt(t){_t(t)===!0&&(F.value=t)}function Nt(t,a){["month","year"].includes(t)&&(t==="month"?rt:Ie)(a===!0?-1:1)}function Oe(t,a){F.value="Calendar",fe(t,a)}function Zt(t,a){if(e.range===!1||!t){A.value=null;return}const l=Object.assign({...p.value},t),d=a!==void 0?Object.assign({...p.value},a):l;A.value={init:l,initHash:ee(l),final:d,finalHash:ee(d)},Oe(l.year,l.month)}function nt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function $e(t,a,l){return Tn(t,a,l,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function at(t,a){const l=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(l.length===0)return ot();const d=l[l.length-1],c=$e(d.from!==void 0?d.from:d,t,a);return c.dateHash===null?ot():c}function ot(){let t,a;if(e.defaultYearMonth!==void 0){const l=e.defaultYearMonth.split("/");t=parseInt(l[0],10),a=parseInt(l[1],10)}else{const l=P.value!==void 0?P.value:v();t=l.year,a=l.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+x(a)+"/01"}}function rt(t){let a=p.value.year,l=Number(p.value.month)+t;l===13?(l=1,a++):l===0&&(l=12,a--),fe(a,l),U.value===!0&&xe("month")}function Ie(t){const a=Number(p.value.year)+t;fe(a,p.value.month),U.value===!0&&xe("year")}function zt(t){fe(t,p.value.month),F.value=e.defaultView==="Years"?"Months":"Calendar",U.value===!0&&xe("year")}function Qt(t){fe(p.value.year,t),F.value="Calendar",U.value===!0&&xe("month")}function Lt(t,a){const l=Ce.value[a];(l!==void 0&&l.includes(t.day)===!0?Be:Ae)(t)}function re(t){return{year:t.year,month:t.month,day:t.day}}function fe(t,a,l){if(R.value!==null&&t<=R.value.year&&((a<R.value.month||t<R.value.year)&&(a=R.value.month),t=R.value.year),E.value!==null&&t>=E.value.year&&((a>E.value.month||t>E.value.year)&&(a=E.value.month),t=E.value.year),l!==void 0){const{hour:c,minute:w,second:b,millisecond:D,timezoneOffset:q,timeHash:Me}=l;Object.assign(p.value,{hour:c,minute:w,second:b,millisecond:D,timezoneOffset:q,timeHash:Me})}const d=t+"/"+x(a)+"/01";d!==p.value.dateHash&&(V.value=p.value.dateHash<d==(s.lang.rtl!==!0)?"left":"right",t!==p.value.year&&(I.value=V.value),Ze(()=>{ae.value=t-t%le-(t<0?le:0),Object.assign(p.value,{year:t,month:a,day:1,dateHash:d})}))}function lt(t,a,l){const d=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;M=d;const{reason:c,details:w}=ut(a,l);r("update:modelValue",d,c,w)}function xe(t){const a=m.value[0]!==void 0&&m.value[0].dateHash!==null?{...m.value[0]}:{...p.value};Ze(()=>{a.year=p.value.year,a.month=p.value.month;const l=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Fe(a.year,a.month);a.day=Math.min(Math.max(1,a.day),l);const d=ve(a);M=d;const{details:c}=ut("",a);r("update:modelValue",d,t,c)})}function ut(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...re(a.target),from:re(a.from),to:re(a.to)}}:{reason:`${t}-day`,details:re(a)}}function ve(t,a,l){return t.from!==void 0?{from:ce.value(t.from,a,l),to:ce.value(t.to,a,l)}:ce.value(t,a,l)}function Ae(t){let a;if(e.multiple===!0)if(t.from!==void 0){const l=ee(t.from),d=ee(t.to),c=m.value.filter(b=>b.dateHash<l||b.dateHash>d),w=_.value.filter(({from:b,to:D})=>D.dateHash<l||b.dateHash>d);a=c.concat(w).concat(t).map(b=>ve(b))}else{const l=de.value.slice();l.push(ve(t)),a=l}else a=ve(t);lt(a,"add",t)}function Be(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const l=ve(t);t.from!==void 0?a=e.modelValue.filter(d=>d.from!==void 0?d.from!==l.from&&d.to!==l.to:!0):a=e.modelValue.filter(d=>d!==l),a.length===0&&(a=null)}lt(a,"remove",t)}function it(t,a,l){const d=m.value.concat(_.value).map(c=>ve(c,t,a)).filter(c=>c.from!==void 0?c.from.dateHash!==null&&c.to.dateHash!==null:c.dateHash!==null);r("update:modelValue",(e.multiple===!0?d:d[0])||null,l)}function Ut(){if(e.minimal!==!0)return f("div",{class:"q-date__header "+y.value},[f("div",{class:"relative-position"},[f(ge,{name:"q-transition--fade"},()=>f("div",{key:"h-yr-"+Je.value,class:"q-date__header-subtitle q-date__header-link "+(F.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...g("vY",{onClick(){F.value="Years"},onKeyup(t){t.keyCode===13&&(F.value="Years")}})},[Je.value]))]),f("div",{class:"q-date__header-title relative-position flex no-wrap"},[f("div",{class:"relative-position col"},[f(ge,{name:"q-transition--fade"},()=>f("div",{key:"h-sub"+We.value,class:"q-date__header-title-label q-date__header-link "+(F.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...g("vC",{onClick(){F.value="Calendar"},onKeyup(t){t.keyCode===13&&(F.value="Calendar")}})},[We.value]))]),e.todayBtn===!0?f(X,{class:"q-date__header-today self-start",icon:s.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:tt}):null])])}function Re({label:t,type:a,key:l,dir:d,goTo:c,boundaries:w,cls:b}){return[f("div",{class:"row items-center q-date__arrow"},[f(X,{round:!0,dense:!0,size:"sm",flat:!0,icon:we.value[0],tabindex:i.value,disable:w.prev===!1,...g("go-#"+a,{onClick(){c(-1)}})})]),f("div",{class:"relative-position overflow-hidden flex flex-center"+b},[f(ge,{name:"q-transition--jump-"+d},()=>f("div",{key:l},[f(X,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:i.value,...g("view#"+a,{onClick:()=>{F.value=a}})})]))]),f("div",{class:"row items-center q-date__arrow"},[f(X,{round:!0,dense:!0,size:"sm",flat:!0,icon:we.value[1],tabindex:i.value,disable:w.next===!1,...g("go+#"+a,{onClick(){c(1)}})})])]}const Xt={Calendar:()=>[f("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[f("div",{class:"q-date__navigation row items-center no-wrap"},Re({label:C.value.months[p.value.month-1],type:"Months",key:p.value.month,dir:V.value,goTo:rt,boundaries:Ve.value.month,cls:" col"}).concat(Re({label:p.value.year,type:"Years",key:p.value.year,dir:I.value,goTo:Ie,boundaries:Ve.value.year,cls:""}))),f("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},At.value.map(t=>f("div",{class:"q-date__calendar-item"},[f("div",t)]))),f("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[f(ge,{name:"q-transition--slide-"+V.value},()=>f("div",{key:Z.value,class:"q-date__calendar-days fit"},et.value.map(t=>f("div",{class:t.classes},[t.in===!0?f(X,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:i.value,...g("day#"+t.i,{onClick:()=>{Wt(t.i)},onMouseover:()=>{Jt(t.i)}})},t.event!==!1?()=>f("div",{class:"q-date__event bg-"+t.event}):null):f("div",""+t.i)]))))])])],Months(){const t=p.value.year===P.value.year,a=d=>R.value!==null&&p.value.year===R.value.year&&R.value.month>d||E.value!==null&&p.value.year===E.value.year&&E.value.month<d,l=C.value.monthsShort.map((d,c)=>{const w=p.value.month===c+1;return f("div",{class:"q-date__months-item flex flex-center"},[f(X,{class:t===!0&&P.value.month===c+1?"q-date__today":null,flat:w!==!0,label:d,unelevated:w,color:w===!0?L.value:null,textColor:w===!0?K.value:null,tabindex:i.value,disable:a(c+1),...g("month#"+c,{onClick:()=>{Qt(c+1)}})})])});return e.yearsInMonthView===!0&&l.unshift(f("div",{class:"row no-wrap full-width"},[Re({label:p.value.year,type:"Years",key:p.value.year,dir:I.value,goTo:Ie,boundaries:Ve.value.year,cls:" col"})])),f("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},l)},Years(){const t=ae.value,a=t+le,l=[],d=c=>R.value!==null&&R.value.year>c||E.value!==null&&E.value.year<c;for(let c=t;c<=a;c++){const w=p.value.year===c;l.push(f("div",{class:"q-date__years-item flex flex-center"},[f(X,{key:"yr"+c,class:P.value.year===c?"q-date__today":null,flat:!w,label:c,dense:!0,unelevated:w,color:w===!0?L.value:null,textColor:w===!0?K.value:null,tabindex:i.value,disable:d(c),...g("yr#"+c,{onClick:()=>{zt(c)}})})]))}return f("div",{class:"q-date__view q-date__years flex flex-center"},[f("div",{class:"col-auto"},[f(X,{round:!0,dense:!0,flat:!0,icon:we.value[0],tabindex:i.value,disable:d(t),...g("y-",{onClick:()=>{ae.value-=le}})})]),f("div",{class:"q-date__years-content col self-stretch row items-center"},l),f("div",{class:"col-auto"},[f(X,{round:!0,dense:!0,flat:!0,icon:we.value[1],tabindex:i.value,disable:d(a),...g("y+",{onClick:()=>{ae.value+=le}})})])])}};function Wt(t){const a={...p.value,day:t};if(e.range===!1){Lt(a,Z.value);return}if(A.value===null){const l=et.value.find(c=>c.fill!==!0&&c.i===t);if(e.noUnset!==!0&&l.range!==void 0){Be({target:a,from:l.range.from,to:l.range.to});return}if(l.selected===!0){Be(a);return}const d=ee(a);A.value={init:a,initHash:d,final:a,finalHash:d},r("rangeStart",re(a))}else{const l=A.value.initHash,d=ee(a),c=l<=d?{from:A.value.init,to:a}:{from:a,to:A.value.init};A.value=null,Ae(l===d?a:{target:a,...c}),r("rangeEnd",{from:re(c.from),to:re(c.to)})}}function Jt(t){if(A.value!==null){const a={...p.value,day:t};Object.assign(A.value,{final:a,finalHash:ee(a)})}}return Object.assign(o,{setToday:tt,setView:Pt,offsetCalendar:Nt,setCalendarTo:Oe,setEditingRange:Zt}),()=>{const t=[f("div",{class:"q-date__content col relative-position"},[f(ge,{name:"q-transition--fade"},Xt[F.value])])],a=ye(n.default);return a!==void 0&&t.push(f("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&$(t,"push"),f("div",{class:ke.value,...jt.value},[Ut(),f("div",{ref:O,class:"q-date__main col column",tabindex:-1},t)])}}});export{Qn as Q,wn as a,Wn as b,Jn as c,Gn as d,ea as e,_n as f,Kn as g,ta as h,Ln as i,Mn as j,Un as r,Xn as u};
